<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from fsproxy.masterm.org/wikka.php?wakka=HowItWorks by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 20 Mar 2013 12:39:56 GMT -->
<head>
	<title>FSproxy:  How FSproxy works 
</title>
	<base  />
	<meta name="generator" content="WikkaWiki" />
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<meta name="keywords" content="ext2 ext3 ext4 reiserfs driver for windows xfs jfs filesystems linux partitions" />
	<meta name="description" content="Linux filesystems support for Microsoft Windows." />
	<link rel="stylesheet" type="text/css" href="css/wikka9901.css?679ce" />
	<link rel="stylesheet" type="text/css" href="css/print.css" media="print" />
	<link rel="icon" href="images/favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
	<link rel="alternate" type="application/rss+xml" title="FSproxy: revisions for HowItWorks (RSS)" href="wikka50a9.php?wakka=HowItWorks/revisions.xml" />
	<link rel="alternate" type="application/rss+xml" title="FSproxy: recently edited pages (RSS)" href="wikkad002.php?wakka=HowItWorks/recentchanges.xml" />
</head>
<body>
<!--starting page header-->
<div class="header">
<h2><a id="homepage_link" href="wikka5bf1.html?wakka=HomePage">FSproxy</a> : <a href="wikkae186.html?wakka=HowItWorks/backlinks" title="Display a list of pages linking to HowItWorks">HowItWorks</a></h2>
<a class="" href="wikka5bf1.html?wakka=HomePage">HomePage</a> ::
<a class="" href="wikka55a4.html?wakka=UserSettings">Login/Register</a>
</div>
<!--closing page header-->

<!--starting page content-->
<div class="page">
<h2> How FSproxy works </h2>

<br />
Well to be honest it's quite a hack. :) And not an elegant one, but it works. The whole thing consists of two main parts: FSproxy Agent and Server. The first one, agent, is a small application written entirely in C using Win32 API. It's main function is to present the user a nice GUI with simple configuration dialog and monitor/control the server process. It feeds the server data about what hard drives to use, virtual network interface configuration (about which later) and so on. It can also send various control commands to the server and start/stop it's process.<br />
<br />
The server is a background QEMU process which runs a minimal GNU/Linux system. Emulated hardware consists of an i386 CPU with 16MB of RAM, no graphics card and an Intel PRO/1000 network adapter. Operating system is contained within 18MB disk image mounted read-only. When the server (QEMU process) is started by FSproxy Agent, the operating system running in a virtual machine detects types of partitions on physical hard drives attached to QEMU, loads appropriate kernel modules an mounts them. Then it starts a Samba server with each mount point being exported as a share. Minimal HTTP server is also started to handle control commands sent by agent and to report status. QEMU process uses a virtual TAP network adapter to provide connectivity with Windows. At this point one can access server's samba shares at <span class="notes">\\fsproxy</span> and map them as network drives. When the server is stopped or restarted by FSproxy Agent all partitions are unmounted/remounted read-only and QEMU process terminates.

<div style="clear: both"></div>

</div><!--closing page content-->

<!--starting comment block-->
<div class="commentsheader">
<p>
There are no comments on this page. [<a href="wikkafc21.html?wakka=HowItWorks&amp;show_comments=1#comments">Add comment</a>]</p>
</div>
<!--closing comment block-->
<!--starting footer-->
<div class="footer">
<form action="http://fsproxy.masterm.org/wikka.php?wakka=TextSearch" id="form_c2b696fff2">
<fieldset class="hidden">
	<input type="hidden" name="wakka" value="TextSearch" />
</fieldset>
<a href="wikkadd5e.html?wakka=HowItWorks/history" title="Click to view recent edits to this page">Page History</a> ::
<a class="datetime" href="wikka16e4.html?wakka=HowItWorks/revisions" title="Click to view recent revisions list for this page">2009-07-31 12:06:06</a> <a href="wikka50a9.php?wakka=HowItWorks/revisions.xml" title="Click to display a feed with the latest revisions to this page."><img src="images/feed.png" class="icon" width="14" height="14" alt="feed icon" /></a> ::
Owner: <a class="" href="wikkab283.html?wakka=MasterM">MasterM</a> ::
Search: <input name="phrase" size="15" class="searchbox" />
</form>
</div>
<div class="smallprint">
<a class="ext" href="http://validator.w3.org/check/referer">Valid XHTML 1.0 Transitional</a> ::
<a class="ext" href="http://jigsaw.w3.org/css-validator/check/referer">Valid CSS</a> ::
Powered by <a class="ext" href="http://wikkawiki.org/">WikkaWiki </a></div>
<!--closing footer-->

<!-- Google analytics -->
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10029390-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<!-- End of Google analytics -->
<div class="smallprint">Page was generated in 0.0310 seconds</div>
</body>

<!-- Mirrored from fsproxy.masterm.org/wikka.php?wakka=HowItWorks by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 20 Mar 2013 12:39:57 GMT -->
</html>